<div class="document-upload-container">
  <h1 class="upload-title">Upload Document</h1>

      <div class="card shadow-sm">
        <div class="card-body">

          <h1 class="card-title mb-4">Upload Document</h1>

          <%= form_with model: @document, local: true, html: { multipart: true, class: "needs-validation" } do |form| %>
            <% if @document.errors.any? %>
              <div class="alert alert-danger">
                <h4 class="alert-heading"><%= pluralize(@document.errors.count, "error") %> prohibited this document from being saved:</h4>
                <ul>

                  <% @document.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                  <% end %>


                </ul>
              </div>
            <% end %>

            <div class="mb-3">



              <%= form.label :title, class: "form-label" %>
              <%= form.text_field :title, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= form.label :category, class: "form-label" %>

              <%= form.text_field :category, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= form.label :file, "Replace File", class: "form-label" %>
              <%= form.file_field :file, class: "form-control" %>
              <% if @document.file.attached? %>

                <div class="form-text mt-2">
                  Current file: <%= link_to @document.file.filename, url_for(@document.file), target: "_blank" %>
                </div>
              <% end %>
            </div>


            <div class="mb-3">
            
              <%= form.label :keywords, class: "form-label" %>
              <%= form.text_field :keywords, placeholder: "e.g. AI, Rails, Education", class: "form-control" %>
            </div>

            <div class="d-grid">
              <%= form.submit "Update Document", class: "btn btn-primary" %>
            </div>

          <% end %>
        </div>
        
      </div>
      </div>